<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The class PosteriorBSVAR contains posterior output and the specification including 
the last MCMC draw for the homoskedastic bsvar model. 
Note that due to the thinning of the MCMC output the starting value in element last_draw
might not be equal to the last draw provided in element posterior."><title>R6 Class Representing PosteriorBSVAR — specify_posterior_bsvar • bsvars</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R6 Class Representing PosteriorBSVAR — specify_posterior_bsvar"><meta property="og:description" content="The class PosteriorBSVAR contains posterior output and the specification including 
the last MCMC draw for the homoskedastic bsvar model. 
Note that due to the thinning of the MCMC output the starting value in element last_draw
might not be equal to the last draw provided in element posterior."><meta property="og:image" content="https://bsvars.github.io/bsvars/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bsvars</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://fosstodon.org/@bsvars" aria-label="mastodon">
    <span class="bi bi-mastodon"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bsky.app/profile/bsvars.bsky.social" aria-label="bluesky">
    <span class="fa fa-cloud"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bsvars/bsvars/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>R6 Class Representing PosteriorBSVAR</h1>
      <small class="dont-index">Source: <a href="https://github.com/bsvars/bsvars/blob/HEAD/R/specify_bsvar.R" class="external-link"><code>R/specify_bsvar.R</code></a></small>
      <div class="d-none name"><code>specify_posterior_bsvar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The class PosteriorBSVAR contains posterior output and the specification including 
the last MCMC draw for the homoskedastic bsvar model. 
Note that due to the thinning of the MCMC output the starting value in element <code>last_draw</code>
might not be equal to the last draw provided in element <code>posterior</code>.</p>
    </div>


    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="estimate.html">estimate</a></code>, <code><a href="specify_bsvar.html">specify_bsvar</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>last_draw</code></dt>
<dd><p>an object of class BSVAR with the last draw of the current MCMC run as 
the starting value to be passed to the continuation of the MCMC estimation using <code><a href="estimate.html">estimate()</a></code>.</p></dd>


<dt><code>posterior</code></dt>
<dd><p>a list containing Bayesian estimation output collected in elements 
an <code>NxNxS</code> array <code>B</code>, an <code>NxKxS</code> array <code>A</code>, and a <code>5xS</code> matrix <code>hyper</code>.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-PosteriorBSVAR-new"><code>specify_posterior_bsvar$new()</code></a></p></li>
<li><p><a href="#method-PosteriorBSVAR-get_posterior"><code>specify_posterior_bsvar$get_posterior()</code></a></p></li>
<li><p><a href="#method-PosteriorBSVAR-get_last_draw"><code>specify_posterior_bsvar$get_last_draw()</code></a></p></li>
<li><p><a href="#method-PosteriorBSVAR-is_normalised"><code>specify_posterior_bsvar$is_normalised()</code></a></p></li>
<li><p><a href="#method-PosteriorBSVAR-set_normalised"><code>specify_posterior_bsvar$set_normalised()</code></a></p></li>
<li><p><a href="#method-PosteriorBSVAR-clone"><code>specify_posterior_bsvar$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-PosteriorBSVAR-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new posterior output PosteriorBSVAR.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/specify_posterior_bsvar.html">specify_posterior_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">specification_bsvar</span>, <span class="va">posterior_bsvar</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>specification_bsvar</code></dt>
<dd><p>an object of class BSVAR with the last draw of the current 
MCMC run as the starting value.</p></dd>


<dt><code>posterior_bsvar</code></dt>
<dd><p>a list containing Bayesian estimation output collected in elements 
an <code>NxNxS</code> array <code>B</code>, an <code>NxKxS</code> array <code>A</code>, and a <code>5xS</code> matrix <code>hyper</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A posterior output PosteriorBSVAR.</p>
</div>

</div><p></p><hr><a id="method-PosteriorBSVAR-get_posterior"></a><div class="section">
<h3 id="method-get-posterior-">Method <code>get_posterior()</code><a class="anchor" aria-label="anchor" href="#method-get-posterior-"></a></h3>
<p>Returns a list containing Bayesian estimation output collected in elements 
an <code>NxNxS</code> array <code>B</code>, an <code>NxKxS</code> array <code>A</code>, and a <code>5xS</code> matrix <code>hyper</code>.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">specify_posterior_bsvar</span><span class="op">$</span><span class="fu">get_posterior</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span>
<span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="../reference/specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">estimate</span>       <span class="op">=</span> <span class="fu"><a href="../reference/estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">50</span><span class="op">)</span></span>
<span><span class="va">estimate</span><span class="op">$</span><span class="fu">get_posterior</span><span class="op">(</span><span class="op">)</span></span>
<span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PosteriorBSVAR-get_last_draw"></a><div class="section">
<h3 id="method-get-last-draw-">Method <code>get_last_draw()</code><a class="anchor" aria-label="anchor" href="#method-get-last-draw-"></a></h3>
<p>Returns an object of class BSVAR with the last draw of the current MCMC run as 
the starting value to be passed to the continuation of the MCMC estimation using <code><a href="estimate.html">estimate()</a></code>.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">specify_posterior_bsvar</span><span class="op">$</span><span class="fu">get_last_draw</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># specify the model and set seed</span></span>
<span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="../reference/specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># run the burn-in</span></span>
<span><span class="va">burn_in</span>        <span class="op">=</span> <span class="fu"><a href="../reference/estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># estimate the model</span></span>
<span><span class="va">posterior</span>      <span class="op">=</span> <span class="fu"><a href="../reference/estimate.html">estimate</a></span><span class="op">(</span><span class="va">burn_in</span>, <span class="fl">10</span><span class="op">)</span></span>
<span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PosteriorBSVAR-is_normalised"></a><div class="section">
<h3 id="method-is-normalised-">Method <code>is_normalised()</code><a class="anchor" aria-label="anchor" href="#method-is-normalised-"></a></h3>
<p>Returns <code>TRUE</code> if the posterior has been normalised using <code><a href="normalise_posterior.html">normalise_posterior()</a></code> 
and <code>FALSE</code> otherwise.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">specify_posterior_bsvar</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># upload data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># specify the model and set seed</span></span>
<span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="../reference/specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># estimate the model</span></span>
<span><span class="va">posterior</span>      <span class="op">=</span> <span class="fu"><a href="../reference/estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">10</span>, thin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check normalisation status beforehand</span></span>
<span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># normalise the posterior</span></span>
<span><span class="va">BB</span>            <span class="op">=</span> <span class="va">posterior</span><span class="op">$</span><span class="va">last_draw</span><span class="op">$</span><span class="va">starting_values</span><span class="op">$</span><span class="va">B</span>      <span class="co"># get the last draw of B</span></span>
<span><span class="va">B_hat</span>         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">BB</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">BB</span>         <span class="co"># set negative diagonal elements</span></span>
<span><span class="fu"><a href="../reference/normalise_posterior.html">normalise_posterior</a></span><span class="op">(</span><span class="va">posterior</span>, <span class="va">B_hat</span><span class="op">)</span>                      <span class="co"># draws in posterior are normalised</span></span>
<span></span>
<span><span class="co"># check normalisation status afterwards</span></span>
<span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span>
<span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PosteriorBSVAR-set_normalised"></a><div class="section">
<h3 id="method-set-normalised-">Method <code>set_normalised()</code><a class="anchor" aria-label="anchor" href="#method-set-normalised-"></a></h3>
<p>Sets the private indicator <code>normalised</code> to TRUE.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">specify_posterior_bsvar</span><span class="op">$</span><span class="fu">set_normalised</span><span class="op">(</span><span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>value</code></dt>
<dd><p>(optional) a logical value to be passed to indicator <code>normalised</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># This is an internal function that is run while executing normalise_posterior()</span></span>
<span><span class="co"># Observe its working by analysing the workflow:</span></span>
<span></span>
<span><span class="co"># upload data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># specify the model and set seed</span></span>
<span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="../reference/specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># estimate the model</span></span>
<span><span class="va">posterior</span>      <span class="op">=</span> <span class="fu"><a href="../reference/estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">10</span>, thin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check normalisation status beforehand</span></span>
<span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># normalise the posterior</span></span>
<span><span class="va">BB</span>            <span class="op">=</span> <span class="va">posterior</span><span class="op">$</span><span class="va">last_draw</span><span class="op">$</span><span class="va">starting_values</span><span class="op">$</span><span class="va">B</span>      <span class="co"># get the last draw of B</span></span>
<span><span class="va">B_hat</span>         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">BB</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">BB</span>                <span class="co"># set positive diagonal elements</span></span>
<span><span class="fu"><a href="../reference/normalise_posterior.html">normalise_posterior</a></span><span class="op">(</span><span class="va">posterior</span>, <span class="va">B_hat</span><span class="op">)</span>                      <span class="co"># draws in posterior are normalised</span></span>
<span></span>
<span><span class="co"># check normalisation status afterwards</span></span>
<span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span>
<span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PosteriorBSVAR-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">specify_posterior_bsvar</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># This is a function that is used within estimate()</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The identification is set to the default option of lower-triangular structural matrix.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">estimate</span>       <span class="op">=</span> <span class="fu"><a href="estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bsvars: Bayesian Structural Vector Autoregressions|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Gibbs sampler for the SVAR model                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Progress of the MCMC simulation for 50 draws</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Every 10th draw is saved via MCMC thinning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Press Esc to interrupt the computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "PosteriorBSVAR" "R6"            </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `specify_posterior_bsvar$get_posterior`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The identification is set to the default option of lower-triangular structural matrix.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">estimate</span>       <span class="op">=</span> <span class="fu"><a href="estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bsvars: Bayesian Structural Vector Autoregressions|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Gibbs sampler for the SVAR model                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Progress of the MCMC simulation for 50 draws</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Every 10th draw is saved via MCMC thinning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Press Esc to interrupt the computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-in"><span><span class="va">estimate</span><span class="op">$</span><span class="fu">get_posterior</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]     [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  8.627258  0.0000000 0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  1.562269 11.8175214 0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -8.631432  0.3762026 1.117855</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]       [,2]     [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  33.774041  0.0000000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  -1.049255 36.7683648  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -14.545640  0.8206225 97.58759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]       [,2]     [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  33.290422  0.0000000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  -3.640596 38.8731043  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -16.075957 -0.5511687 94.42757</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]      [,2]     [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  35.300727  0.000000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   3.477762 40.474596  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -13.783781 -2.061512 94.21516</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]     [,2]     [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  37.864333  0.00000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   1.223294 40.86368  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -18.502778  2.63634 96.07185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]       [,3]       [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 1.2377666  0.1779885 -0.6223289 -0.6915261</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.8608536  0.7750841 -1.0136172 -1.7168970</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.3294731 -0.1537069  0.7481266 -0.2736237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]         [,2]       [,3]        [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  0.94881082  0.002690674 0.05376948 -0.04700308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.02619057  0.953476641 0.04225634 -0.38811745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.01036984 -0.001702417 1.00802470 -0.05015995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              [,1]        [,2]       [,3]       [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  0.932863269 -0.02838813 0.09634553 -0.1864020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.033907591  0.93983452 0.05215661 -0.5231114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.004586891 -0.01789649 1.01105741 -0.1336774</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]         [,2]       [,3]        [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  0.93059842 -0.007766107 0.08102410 -0.11625910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.01173000  0.975533010 0.01395797 -0.24761724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.01519415 -0.004029443 1.01804901 -0.04316345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]         [,2]       [,3]        [,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  0.94454328  0.001041845 0.06886400  0.01131740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.04180955  0.961680027 0.05756148 -0.33921918</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.01150350 -0.008234256 1.01583339 -0.06743812</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hyper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  2.234132  1.1461110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  6.153157  1.0956512</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  3.382887  0.5103117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 22.651755 17.4748071</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 26.013064 15.6841633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 41.449674 10.0039639</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]  2.962011  0.8364195</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  112.6593  0.6416765</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  102.3139  0.5691704</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  687.4725  1.1995220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 1398.5035  6.7807611</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 1408.9255  8.4873323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 2932.8607 13.3876176</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]  150.7711  0.9957833</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  560.8136 0.3367928</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  981.9260 0.3250777</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 2156.7854 0.4206894</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 4587.6444 4.7742467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 7914.1198 6.8316372</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 4466.2543 7.8837873</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]  533.5098 0.7268948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  1465.360 0.3021191</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  1613.009 0.1124841</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  1868.942 0.2756614</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 13655.255 2.5504995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 13963.187 3.2251780</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 13845.780 3.8317900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]  1327.227 0.4099809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  1079.1737 0.2886394</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]   366.1168 0.3418352</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  3406.8449 0.1690429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  6046.8769 5.7560916</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]  3833.1564 3.8079319</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 10893.8830 2.2696988</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]   688.7515 0.3498447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `specify_posterior_bsvar$get_last_draw`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify the model and set seed</span></span></span>
<span class="r-in"><span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The identification is set to the default option of lower-triangular structural matrix.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run the burn-in</span></span></span>
<span class="r-in"><span><span class="va">burn_in</span>        <span class="op">=</span> <span class="fu"><a href="estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bsvars: Bayesian Structural Vector Autoregressions|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Gibbs sampler for the SVAR model                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Progress of the MCMC simulation for 10 draws</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Every 10th draw is saved via MCMC thinning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Press Esc to interrupt the computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># estimate the model</span></span></span>
<span class="r-in"><span><span class="va">posterior</span>      <span class="op">=</span> <span class="fu"><a href="estimate.html">estimate</a></span><span class="op">(</span><span class="va">burn_in</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bsvars: Bayesian Structural Vector Autoregressions|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Gibbs sampler for the SVAR model                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Progress of the MCMC simulation for 10 draws</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Every 10th draw is saved via MCMC thinning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Press Esc to interrupt the computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `specify_posterior_bsvar$is_normalised`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># upload data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify the model and set seed</span></span></span>
<span class="r-in"><span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The identification is set to the default option of lower-triangular structural matrix.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># estimate the model</span></span></span>
<span class="r-in"><span><span class="va">posterior</span>      <span class="op">=</span> <span class="fu"><a href="estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">10</span>, thin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bsvars: Bayesian Structural Vector Autoregressions|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Gibbs sampler for the SVAR model                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Progress of the MCMC simulation for 10 draws</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Every draw is saved via MCMC thinning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Press Esc to interrupt the computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check normalisation status beforehand</span></span></span>
<span class="r-in"><span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># normalise the posterior</span></span></span>
<span class="r-in"><span><span class="va">BB</span>            <span class="op">=</span> <span class="va">posterior</span><span class="op">$</span><span class="va">last_draw</span><span class="op">$</span><span class="va">starting_values</span><span class="op">$</span><span class="va">B</span>      <span class="co"># get the last draw of B</span></span></span>
<span class="r-in"><span><span class="va">B_hat</span>         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">BB</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">BB</span>         <span class="co"># set negative diagonal elements</span></span></span>
<span class="r-in"><span><span class="fu"><a href="normalise_posterior.html">normalise_posterior</a></span><span class="op">(</span><span class="va">posterior</span>, <span class="va">B_hat</span><span class="op">)</span>                      <span class="co"># draws in posterior are normalised</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check normalisation status afterwards</span></span></span>
<span class="r-in"><span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `specify_posterior_bsvar$set_normalised`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is an internal function that is run while executing normalise_posterior()</span></span></span>
<span class="r-in"><span><span class="co"># Observe its working by analysing the workflow:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># upload data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">us_fiscal_lsuw</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify the model and set seed</span></span></span>
<span class="r-in"><span><span class="va">specification</span>  <span class="op">=</span> <span class="va"><a href="specify_bsvar.html">specify_bsvar</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">us_fiscal_lsuw</span>, p <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The identification is set to the default option of lower-triangular structural matrix.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># estimate the model</span></span></span>
<span class="r-in"><span><span class="va">posterior</span>      <span class="op">=</span> <span class="fu"><a href="estimate.html">estimate</a></span><span class="op">(</span><span class="va">specification</span>, <span class="fl">10</span>, thin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bsvars: Bayesian Structural Vector Autoregressions|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Gibbs sampler for the SVAR model                 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Progress of the MCMC simulation for 10 draws</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Every draw is saved via MCMC thinning</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Press Esc to interrupt the computations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************|</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check normalisation status beforehand</span></span></span>
<span class="r-in"><span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># normalise the posterior</span></span></span>
<span class="r-in"><span><span class="va">BB</span>            <span class="op">=</span> <span class="va">posterior</span><span class="op">$</span><span class="va">last_draw</span><span class="op">$</span><span class="va">starting_values</span><span class="op">$</span><span class="va">B</span>      <span class="co"># get the last draw of B</span></span></span>
<span class="r-in"><span><span class="va">B_hat</span>         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">BB</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">BB</span>                <span class="co"># set positive diagonal elements</span></span></span>
<span class="r-in"><span><span class="fu"><a href="normalise_posterior.html">normalise_posterior</a></span><span class="op">(</span><span class="va">posterior</span>, <span class="va">B_hat</span><span class="op">)</span>                      <span class="co"># draws in posterior are normalised</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check normalisation status afterwards</span></span></span>
<span class="r-in"><span><span class="va">posterior</span><span class="op">$</span><span class="fu">is_normalised</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomasz Woźniak.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

